<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Night Secret - –¢–µ—Ä–∏—Ç–æ—Ä—ñ—è –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è</title>
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üî•</text></svg>">

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">

    <!-- 5. FIREBASE (–û–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å—ñ—è 10.8.0 Compat) -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>

    <style>
        body { font-family: 'Montserrat', sans-serif; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .animate-fade-fast { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #7c3aed; border-radius: 4px; }
        .grayscale-card { filter: grayscale(100%); opacity: 0.8; }
    </style>
</head>
<body class="bg-slate-900 text-gray-100">
    
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- FIREBASE SETUP ---
        const firebaseConfig = {
            apiKey: "AIzaSyAu47cciZnYXyEPMTHeH7a1bmX-kCYtGQA",
            authDomain: "conone-757e4.firebaseapp.com",
            projectId: "conone-757e4",
            storageBucket: "conone-757e4.firebasestorage.app",
            messagingSenderId: "960208791384",
            appId: "1:960208791384:web:9e9e109b9df3c1bd95a72d",
            measurementId: "G-B1T6D9BNWN"
        };

        let db = null;
        try {
            if (window.firebase) {
                if (!firebase.apps.length) {
                    firebase.initializeApp(firebaseConfig);
                }
                db = firebase.firestore();
                console.log("Firebase –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ");
            }
        } catch (error) {
            console.error("–ü–æ–º–∏–ª–∫–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó Firebase:", error);
        }

        // --- –Ü–ö–û–ù–ö–ò ---
        const IconBase = ({ children, size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>{children}</svg>
        );

        const Icons = {
            ShoppingBag: (p) => <IconBase {...p}><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></IconBase>,
            X: (p) => <IconBase {...p}><path d="M18 6 6 18"/><path d="m6 6 12 12"/></IconBase>,
            Star: (p) => <IconBase {...p}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></IconBase>,
            Lock: (p) => <IconBase {...p}><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></IconBase>,
            Trash2: (p) => <IconBase {...p}><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></IconBase>,
            Plus: (p) => <IconBase {...p}><path d="M5 12h14"/><path d="M12 5v14"/></IconBase>,
            Minus: (p) => <IconBase {...p}><path d="M5 12h14"/></IconBase>,
            Edit2: (p) => <IconBase {...p}><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></IconBase>,
            Menu: (p) => <IconBase {...p}><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></IconBase>,
            ArrowLeft: (p) => <IconBase {...p}><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></IconBase>,
            ArrowUp: (p) => <IconBase {...p}><path d="m18 15-6-6-6 6"/></IconBase>,
            ArrowDown: (p) => <IconBase {...p}><path d="m6 9 6 6 6-6"/></IconBase>,
            Settings: (p) => <IconBase {...p}><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></IconBase>,
            ChevronRight: (p) => <IconBase {...p}><path d="m9 18 6-6-6-6"/></IconBase>,
            ChevronLeft: (p) => <IconBase {...p}><path d="m15 18-6-6 6-6"/></IconBase>,
            Truck: (p) => <IconBase {...p}><path d="M10 17h4V5H2v12h3"/><path d="M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5"/><path d="M14 17h1"/><circle cx="7.5" cy="17.5" r="2.5"/><circle cx="17.5" cy="17.5" r="2.5"/></IconBase>,
            ShieldCheck: (p) => <IconBase {...p}><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/><path d="m9 12 2 2 4-4"/></IconBase>,
            Flame: (p) => <IconBase {...p}><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.1.2-2.2.6-3.3.7.3 1.9.9 2.9 1.8Z"/></IconBase>,
            LogOut: (p) => <IconBase {...p}><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" x2="9" y1="12" y2="12"/></IconBase>,
            Image: (p) => <IconBase {...p}><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></IconBase>,
            Upload: (p) => <IconBase {...p}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" x2="12" y1="3" y2="15"/></IconBase>,
            Check: (p) => <IconBase {...p}><polyline points="20 6 9 17 4 12"/></IconBase>,
            Video: (p) => <IconBase {...p}><path d="m22 8-6 4 6 4V8Z"/><rect width="14" height="12" x="2" y="6" rx="2" ry="2"/></IconBase>,
            Link: (p) => <IconBase {...p}><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></IconBase>,
            Phone: (p) => <IconBase {...p}><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></IconBase>,
            Instagram: (p) => <IconBase {...p}><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></IconBase>,
            Send: (p) => <IconBase {...p}><line x1="22" x2="11" y1="2" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></IconBase>,
            CreditCard: (p) => <IconBase {...p}><rect width="20" height="14" x="2" y="5" rx="2"/><line x1="2" x2="22" y1="10" y2="10"/></IconBase>,
            Eye: (p) => <IconBase {...p}><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></IconBase>,
            EyeOff: (p) => <IconBase {...p}><path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/></IconBase>,
            Copy: (p) => <IconBase {...p}><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></IconBase>,
            PackageX: (p) => <IconBase {...p}><path d="M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14"/><path d="m7.5 4.27 9 5.15"/><polyline points="3.29 7 12 12 20.71 7"/><line x1="12" x2="12" y1="22" y2="12"/><path d="m17 13 5 5m-5 0 5-5"/></IconBase>,
            PackageCheck: (p) => <IconBase {...p}><path d="m16 16 2 2 4-4"/><path d="M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14"/><path d="m7.5 4.27 9 5.15"/><polyline points="3.29 7 12 12 20.71 7"/><line x1="12" x2="12" y1="22" y2="12"/></IconBase>,
            RefreshCw: (p) => <IconBase {...p}><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></IconBase>
        };

        const BrandLogo = () => (
            <svg width="40" height="40" viewBox="0 0 40 40" fill="none" className="text-white drop-shadow-lg filter">
                <circle cx="20" cy="20" r="20" fill="url(#paint0_linear)" />
                <path d="M26 12C26 12 22 14 22 20C22 26 26 28 26 28C22.5 30 18 29 15 26C12 23 12 17 15 14C18 11 22.5 10 26 12Z" fill="white"/>
                <path d="M29 16L30.5 19L33.5 19.5L31.5 21.5L32 24.5L29 23L26 24.5L26.5 21.5L24.5 19.5L27.5 19L29 16Z" fill="#FDE047"/>
                <defs>
                    <linearGradient id="paint0_linear" x1="0" y1="0" x2="40" y2="40" gradientUnits="userSpaceOnUse">
                        <stop stopColor="#7C3AED"/>
                        <stop offset="1" stopColor="#DB2777"/>
                    </linearGradient>
                </defs>
            </svg>
        );

        const INFO_PAGES = {
            about: { title: "–ü—Ä–æ –Ω–∞—Å", content: <div className="space-y-6 text-gray-300 leading-relaxed"><p className="text-lg font-medium text-white">–ü—Ä–∏–≤—ñ—Ç, –º–∏ Night Secret! üëã</p><p>–ú–∏ –Ω–µ –ø—Ä–æ—Å—Ç–æ –º–∞–≥–∞–∑–∏–Ω, –º–∏ ‚Äî —Ç–≤—ñ–π –ø—Ä–æ–≤—ñ–¥–Ω–∏–∫ —É —Å–≤—ñ—Ç –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è.</p><div className="bg-slate-800 p-6 rounded-2xl border border-violet-500/20 my-6"><h3 className="text-white font-bold mb-2">–ß–æ–º—É –º–∏?</h3><ul className="list-disc list-inside space-y-2 text-sm"><li><strong>–ê–Ω–æ–Ω—ñ–º–Ω—ñ—Å—Ç—å 80 lvl</strong></li><li><strong>–¢—ñ–ª—å–∫–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª–∏</strong></li><li><strong>–®–≤–∏–¥–∫—ñ—Å—Ç—å —Ä–∞–∫–µ—Ç–∏</strong></li></ul></div></div> },
            delivery: { title: "–û–ø–ª–∞—Ç–∞ —Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∞", content: <div className="space-y-6 text-gray-300 leading-relaxed"><div className="flex items-start gap-4 p-4 bg-slate-800 rounded-xl"><Icons.Truck size={32} className="text-violet-500 flex-shrink-0" /><div><h3 className="text-white font-bold text-lg mb-2">–î–æ—Å—Ç–∞–≤–∫–∞ –ù–æ–≤–æ—é –ü–æ—à—Ç–æ—é</h3><p>–í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ —â–æ–¥–Ω—è.</p></div></div><div className="flex items-start gap-4 p-4 bg-slate-800 rounded-xl"><Icons.ShieldCheck size={32} className="text-green-500 flex-shrink-0" /><div><h3 className="text-white font-bold text-lg mb-2">100% –ê–Ω–æ–Ω—ñ–º–Ω—ñ—Å—Ç—å</h3><p>–ù–µ–π—Ç—Ä–∞–ª—å–Ω–∞ —É–ø–∞–∫–æ–≤–∫–∞ "–ö–æ—Å–º–µ—Ç–∏–∫–∞".</p></div></div></div> },
            returns: { title: "–ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ç–∞ –æ–±–º—ñ–Ω", content: <div className="space-y-6 text-gray-300 leading-relaxed"><p>–ó–≥—ñ–¥–Ω–æ –∑ –ü–æ—Å—Ç–∞–Ω–æ–≤–æ—é –ö–ú–£ ‚Ññ172, —Ç–æ–≤–∞—Ä–∏ —ñ–Ω—Ç–∏–º–Ω–æ–≥–æ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ –ø—ñ–¥–ª—è–≥–∞—é—Ç—å –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—é. –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –≤–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–æ–≤–∏–π —Ç–æ–≤–∞—Ä.</p></div> },
            privacy: { title: "–ü–æ–ª—ñ—Ç–∏–∫–∞ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ", content: <div className="space-y-4 text-gray-300 text-sm leading-relaxed"><p>–ú–∏ —Å—É–≤–æ—Ä–æ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –≤–∞—à—ñ –¥–∞–Ω—ñ.</p></div> },
            offer: { title: "–î–æ–≥–æ–≤—ñ—Ä –æ—Ñ–µ—Ä—Ç–∏", content: <div className="space-y-4 text-gray-400 text-xs leading-relaxed"><p>–ü—É–±–ª—ñ—á–Ω–∞ –æ—Ñ–µ—Ä—Ç–∞ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω—É Night Secret.</p></div> }
        };

        const POPULAR_CITIES = ["–ö–∏—ó–≤", "–•–∞—Ä–∫—ñ–≤", "–û–¥–µ—Å–∞", "–î–Ω—ñ–ø—Ä–æ", "–õ—å–≤—ñ–≤", "–ó–∞–ø–æ—Ä—ñ–∂–∂—è", "–í—ñ–Ω–Ω–∏—Ü—è", "–•–º–µ–ª—å–Ω–∏—Ü—å–∫–∏–π", "–ñ–∏—Ç–æ–º–∏—Ä", "–ß–µ—Ä–Ω—ñ–≤—Ü—ñ", "–†—ñ–≤–Ω–µ", "–Ü–≤–∞–Ω–æ-–§—Ä–∞–Ω–∫—ñ–≤—Å—å–∫", "–¢–µ—Ä–Ω–æ–ø—ñ–ª—å", "–õ—É—Ü—å–∫", "–£–∂–≥–æ—Ä–æ–¥", "–ë—ñ–ª–∞ –¶–µ—Ä–∫–≤–∞", "–ö—Ä–æ–ø–∏–≤–Ω–∏—Ü—å–∫–∏–π", "–ú–∏–∫–æ–ª–∞—ó–≤", "–ü–æ–ª—Ç–∞–≤–∞", "–°—É–º–∏", "–ß–µ—Ä–∫–∞—Å–∏", "–ß–µ—Ä–Ω—ñ–≥—ñ–≤"];

        // --- SEED DATA (–ü–æ–≤–Ω—ñ –¥–∞–Ω—ñ —Ç–æ–≤–∞—Ä—ñ–≤ ONE) ---
        const INITIAL_PRODUCTS_SEED = [
            { id: "one-sensitive", orderIndex: 1, name: "One Super Sensitive", shortDesc: "–£–ª—å—Ç—Ä–∞—Ç–æ–Ω–∫—ñ –ø—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏", description: "–£–ª—å—Ç—Ä–∞—Ç–æ–Ω–∫—ñ –ø—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏ One Super Sensitive —Å—Ç–≤–æ—Ä–µ–Ω—ñ –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ –ø—Ä–∞–≥–Ω–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó –±–ª–∏–∑—å–∫–æ—Å—Ç—ñ. –í–∏–≥–æ—Ç–æ–≤–ª–µ–Ω—ñ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –ø–µ—Ä–µ–¥–æ–≤–æ—ó —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó Sensatex¬Æ, —è–∫–∞ —Ä–æ–±–∏—Ç—å –ª–∞—Ç–µ–∫—Å –Ω–µ–π–º–æ–≤—ñ—Ä–Ω–æ –º'—è–∫–∏–º —ñ –≥–ª–∞–¥–∫–∏–º. –ú–∞—é—Ç—å –Ω–∞ 50% –±—ñ–ª—å—à–µ –ª—É–±—Ä–∏–∫–∞–Ω—Ç—É –¥–ª—è –Ω–µ–ø–µ—Ä–µ–≤–µ—Ä—à–µ–Ω–æ–≥–æ –∫–æ–≤–∑–∞–Ω–Ω—è. –í—ñ–¥—á—É—Ç—Ç—è ¬´–¥—Ä—É–≥–æ—ó —à–∫—ñ—Ä–∏¬ª –±–µ–∑ –≤—Ç—Ä–∞—Ç–∏ –Ω–∞–¥—ñ–π–Ω–æ—Å—Ç—ñ.", price: 45, oldPrice: 0, category: "–ü—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏", images: ["https://images.unsplash.com/photo-1626015383564-9b5523f6e80b?auto=format&fit=crop&q=80&w=800"], rating: 5.0, specs: ["–ú–∞—Ç–µ—Ä—ñ–∞–ª: Sensatex¬Æ (–º'—è–∫–∏–π –ª–∞—Ç–µ–∫—Å)", "–õ—É–±—Ä–∏–∫–∞–Ω—Ç: –Ω–∞ 50% –±—ñ–ª—å—à–µ —Å–∏–ª—ñ–∫–æ–Ω–æ–≤–æ–≥–æ –º–∞—Å—Ç–∏–ª–∞", "–¢–æ–≤—â–∏–Ω–∞: –£–ª—å—Ç—Ä–∞—Ç–æ–Ω–∫—ñ", "–§–æ—Ä–º–∞: –ü—Ä—è–º–∞ –∑ —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–æ–º"], isHit: true, inStock: true, isVisible: true },
            { id: "one-studs", orderIndex: 2, name: "One Super Studs", shortDesc: "–¢–µ–∫—Å—Ç—É—Ä–æ–≤–∞–Ω—ñ –∑ –ø—É—Ö–∏—Ä—Ü—è–º–∏", description: "–ü—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏ One Super Studs ‚Äî —Ü–µ –≤–∏–±—É—Ö –≤—ñ–¥—á—É—Ç—Ç—ñ–≤ –∑–∞–≤–¥—è–∫–∏ —Å–æ—Ç–Ω—è–º —Ä–µ–ª—å—î—Ñ–Ω–∏—Ö —Ç–æ—á–æ–∫ (–ø—É—Ö–∏—Ä—Ü—ñ–≤) –ø–æ –≤—Å—ñ–π –ø–æ–≤–µ—Ä—Ö–Ω—ñ. –°—Ç–≤–æ—Ä–µ–Ω—ñ –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —Å—Ç–∏–º—É–ª—è—Ü—ñ—ó —Ç–∞ –ø–æ—Å–∏–ª–µ–Ω–Ω—è –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è –æ–±–æ—Ö –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤. –Ü–¥–µ–∞–ª—å–Ω–∏–π –≤–∏–±—ñ—Ä –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ —Ö–æ—á–µ –¥–æ–¥–∞—Ç–∏ –ø–µ—Ä—á–∏–Ω–∫–∏.", price: 45, oldPrice: 0, category: "–ü—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏", images: ["https://images.unsplash.com/photo-1590502260665-2775f0a2d535?auto=format&fit=crop&q=80&w=800"], rating: 4.8, specs: ["–¢–µ–∫—Å—Ç—É—Ä–∞: –¢–æ—á–∫–æ–≤–∞ (Studded)", "–ú–∞—Ç–µ—Ä—ñ–∞–ª: –õ–∞—Ç–µ–∫—Å Sensatex¬Æ", "–û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å: –ü–æ—Å–∏–ª–µ–Ω–∞ —Å—Ç–∏–º—É–ª—è—Ü—ñ—è"], isHit: false, inStock: true, isVisible: true },
            { id: "one-xl", orderIndex: 3, name: "One Legend XL", shortDesc: "–ó–±—ñ–ª—å—à–µ–Ω–∏–π —Ä–æ–∑–º—ñ—Ä", description: "One Legend XL ‚Äî –¥–ª—è —Å–ø—Ä–∞–≤–∂–Ω—ñ—Ö –ª–µ–≥–µ–Ω–¥. –¶—ñ –ø—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏ –º–∞—é—Ç—å –∑–±—ñ–ª—å—à–µ–Ω—ñ —Ä–æ–∑–º—ñ—Ä–∏ (–¥–æ–≤–∂–∏–Ω—É —Ç–∞ —à–∏—Ä–∏–Ω—É) –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–º—Ñ–æ—Ä—Ç—É —Ç–∏—Ö, –∫–æ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –º–æ–¥–µ–ª—ñ —Ç–∏—Å–Ω—É—Ç—å. –ü—Ä–æ—Å—Ç–æ—Ä—ñ—à—ñ –±—ñ–ª—è –≥–æ–ª—ñ–≤–∫–∏ –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó –∑—Ä—É—á–Ω–æ—Å—Ç—ñ.", price: 45, oldPrice: 0, category: "–ü—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏", images: ["https://images.unsplash.com/photo-1581594549595-35f6edc7b762?auto=format&fit=crop&q=80&w=800"], rating: 4.9, specs: ["–†–æ–∑–º—ñ—Ä: XL (–ó–±—ñ–ª—å—à–µ–Ω–∏–π)", "–®–∏—Ä–∏–Ω–∞: 56 –º–º", "–§–æ—Ä–º–∞: –†–æ–∑—à–∏—Ä–µ–Ω–∞ –±—ñ–ª—è –≥–æ–ª—ñ–≤–∫–∏"], isHit: false, inStock: true, isVisible: true },
            { id: "one-tattoo", orderIndex: 4, name: "One Tattoo Touch", shortDesc: "–†–µ–ª—å—î—Ñ–Ω–∏–π –≤—ñ–∑–µ—Ä—É–Ω–æ–∫", description: "–£–Ω—ñ–∫–∞–ª—å–Ω—ñ –ø—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏ –∑ —Ä–µ–ª—å—î—Ñ–Ω–∏–º –º–∞–ª—é–Ω–∫–æ–º —É —Å—Ç–∏–ª—ñ —Ç–∞—Ç—É. –¶–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ –¥–∏–∑–∞–π–Ω, —Ü–µ –¥–æ–¥–∞—Ç–∫–æ–≤–∞ —Ç–µ–∫—Å—Ç—É—Ä–∞ –¥–ª—è –Ω–æ–≤–∏—Ö –≤—ñ–¥—á—É—Ç—Ç—ñ–≤. –ï—Å—Ç–µ—Ç–∏–∫–∞ —Ç–∞ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è –≤ –æ–¥–Ω–æ–º—É –ø–∞–∫—É–≤–∞–Ω–Ω—ñ.", price: 45, oldPrice: 0, category: "–ü—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏", images: ["https://images.unsplash.com/photo-1576075796033-848c2a5f3696?auto=format&fit=crop&q=80&w=800"], rating: 4.7, specs: ["–¢–µ–∫—Å—Ç—É—Ä–∞: –†–µ–ª—å—î—Ñ–Ω–∏–π –≤—ñ–∑–µ—Ä—É–Ω–æ–∫", "–î–∏–∑–∞–π–Ω: –¢–∞—Ç—É-—Å—Ç–∏–ª—å"], isHit: false, inStock: true, isVisible: true },
            { id: "one-extra-strong", orderIndex: 5, name: "One Extra Strong", shortDesc: "–ù–∞–¥–º—ñ—Ü–Ω—ñ —Ç–∞ –Ω–∞–¥—ñ–π–Ω—ñ", description: "–ö–æ–ª–∏ –±–µ–∑–ø–µ–∫–∞ –ø–æ–Ω–∞–¥ —É—Å–µ. One Extra Strong –≤–∏–≥–æ—Ç–æ–≤–ª–µ–Ω—ñ –∑ –±—ñ–ª—å—à —â—ñ–ª—å–Ω–æ–≥–æ, –∞–ª–µ –º'—è–∫–æ–≥–æ –ª–∞—Ç–µ–∫—Å—É –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∑–∞—Ö–∏—Å—Ç—É –±–µ–∑ –≤—Ç—Ä–∞—Ç–∏ –∫–æ–º—Ñ–æ—Ä—Ç—É. –Ü–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥—è—Ç—å –¥–ª—è —ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–≥–æ —Å–µ–∫—Å—É.", price: 45, oldPrice: 0, category: "–ü—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏", images: ["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?auto=format&fit=crop&q=80&w=800"], rating: 5.0, specs: ["–û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å: –ü—ñ–¥–≤–∏—â–µ–Ω–∞ –º—ñ—Ü–Ω—ñ—Å—Ç—å", "–¢–æ–≤—â–∏–Ω–∞: –ü–æ—Ç–æ–≤—â–µ–Ω—ñ"], isHit: false, inStock: true, isVisible: true },
            { id: "one-pleasure-dome", orderIndex: 6, name: "One Pleasure Dome", shortDesc: "–ë—ñ–ª—å—à–µ –ø—Ä–æ—Å—Ç–æ—Ä—É", description: "–£–Ω—ñ–∫–∞–ª—å–Ω–∞ —Ñ–æ—Ä–º–∞ –∑ —Ä–æ–∑—à–∏—Ä–µ–Ω–æ—é –≥–æ–ª—ñ–≤–∫–æ—é. –¶–µ –¥–∞—î –±—ñ–ª—å—à–µ —Å–≤–æ–±–æ–¥–∏ —Ç–∞ —á—É—Ç–ª–∏–≤–æ—Å—Ç—ñ —Ç–∞–º, –¥–µ —Ü–µ –Ω–∞–π–±—ñ–ª—å—à–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ, –∑–∞–±–µ–∑–ø–µ—á—É—é—á–∏ –ø—Ä–∏—Ä–æ–¥–Ω—ñ –≤—ñ–¥—á—É—Ç—Ç—è.", price: 45, oldPrice: 0, category: "–ü—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏", images: ["https://images.unsplash.com/photo-1620916566398-39f1143ab7be?auto=format&fit=crop&q=80&w=800"], rating: 4.8, specs: ["–§–æ—Ä–º–∞: –†–æ–∑—à–∏—Ä–µ–Ω–∞ –≥–æ–ª—ñ–≤–∫–∞ (Dome)", "–û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å: –ü—ñ–¥–≤–∏—â–µ–Ω–∞ —á—É—Ç–ª–∏–≤—ñ—Å—Ç—å"], isHit: true, inStock: true, isVisible: true },
            { id: "one-flavor-waves", orderIndex: 7, name: "One Flavor Waves", shortDesc: "–ê—Ä–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω—ñ", description: "–ö–æ–ª–µ–∫—Ü—ñ—è –ø—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤—ñ–≤ –∑ —è—Å–∫—Ä–∞–≤–∏–º–∏ —Å–º–∞–∫–∞–º–∏ —Ç–∞ –∞—Ä–æ–º–∞—Ç–∞–º–∏. –î–æ–¥–∞–π—Ç–µ —Å–º–∞–∫—É –≤–∞—à–æ–º—É —ñ–Ω—Ç–∏–º–Ω–æ–º—É –∂–∏—Ç—Ç—é! –î–æ—Å—Ç—É–ø–Ω—ñ —Ä—ñ–∑–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ (–º'—è—Ç–∞, —à–æ–∫–æ–ª–∞–¥, —Ñ—Ä—É–∫—Ç–∏ ‚Äî —É—Ç–æ—á–Ω—é–π—Ç–µ –ø—Ä–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—ñ).", price: 45, oldPrice: 0, category: "–ü—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏", images: ["https://images.unsplash.com/photo-1528825871115-3581a5387919?auto=format&fit=crop&q=80&w=800"], rating: 4.6, specs: ["–û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å: –ê—Ä–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω—ñ", "–°–º–∞–∫–∏: –ú—ñ–∫—Å"], isHit: false, inStock: true, isVisible: true },
            { id: "one-classic", orderIndex: 8, name: "One Classic Select", shortDesc: "–ö–ª–∞—Å–∏—á–Ω–∞ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å", description: "–¢—Ä–∞–¥–∏—Ü—ñ–π–Ω—ñ, –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ —á–∞—Å–æ–º –ø—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏ –∑ —ñ–¥–µ–∞–ª—å–Ω–∏–º –±–∞–ª–∞–Ω—Å–æ–º —Ç–æ–Ω–∫–æ—Å—Ç—ñ —Ç–∞ –º—ñ—Ü–Ω–æ—Å—Ç—ñ. –ì–ª–∞–¥–∫–∞ –ø–æ–≤–µ—Ä—Ö–Ω—è, –∫–ª–∞—Å–∏—á–Ω–∞ —Ñ–æ—Ä–º–∞, –º–∞–∫—Å–∏–º—É–º –∫–æ–º—Ñ–æ—Ä—Ç—É.", price: 45, oldPrice: 0, category: "–ü—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏", images: ["https://images.unsplash.com/photo-1563203369-26f2e4a5ccf7?auto=format&fit=crop&q=80&w=800"], rating: 4.7, specs: ["–§–æ—Ä–º–∞: –ö–ª–∞—Å–∏—á–Ω–∞", "–ü–æ–≤–µ—Ä—Ö–Ω—è: –ì–ª–∞–¥–∫–∞"], isHit: false, inStock: true, isVisible: true },
            { id: "one-color", orderIndex: 9, name: "One Color Sensations", shortDesc: "–ö–æ–ª—å–æ—Ä–æ–≤—ñ –ø—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏", description: "–Ø—Å–∫—Ä–∞–≤—ñ –∫–æ–ª—å–æ—Ä–∏ –¥–ª—è —è—Å–∫—Ä–∞–≤–∏—Ö –µ–º–æ—Ü—ñ–π. –†—ñ–∑–Ω–æ–∫–æ–ª—å–æ—Ä–æ–≤—ñ –ø—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏ One –¥–æ–¥–∞–¥—É—Ç—å –≤—ñ–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç—Ç—è –≤–∞—à—ñ–π –Ω–æ—á—ñ.", price: 45, oldPrice: 0, category: "–ü—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏", images: ["https://images.unsplash.com/photo-1550921026-6b27d425c11d?auto=format&fit=crop&q=80&w=800"], rating: 4.5, specs: ["–û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å: –ö–æ–ª—å–æ—Ä–æ–≤—ñ"], isHit: false, inStock: true, isVisible: true },
            { id: "one-vanish", orderIndex: 10, name: "One Vanish", shortDesc: "–ì—ñ–ø–µ—Ä—Ç–æ–Ω–∫—ñ", description: "One Vanish ‚Äî —Ü–µ –Ω–∞ 35% —Ç–æ–Ω—à—ñ –ø—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏, –Ω—ñ–∂ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –º–æ–¥–µ–ª—ñ One. –í–æ–Ω–∏ –º–∞–π–∂–µ –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –≤–∞–º –±—É—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–ª–∏–∑—å–∫–æ –¥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞.", price: 45, oldPrice: 0, category: "–ü—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏", images: ["https://images.unsplash.com/photo-1616423640778-28d1b53229bd?auto=format&fit=crop&q=80&w=800"], rating: 5.0, specs: ["–¢–æ–≤—â–∏–Ω–∞: –ì—ñ–ø–µ—Ä—Ç–æ–Ω–∫—ñ", "–ß—É—Ç–ª–∏–≤—ñ—Å—Ç—å: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞"], isHit: true, inStock: true, isVisible: true },
            { id: "one-ultra-feel", orderIndex: 11, name: "One Ultra Feel", shortDesc: "2-–≤-1 –∑ –ª—É–±—Ä–∏–∫–∞–Ω—Ç–æ–º", description: "–£–Ω—ñ–∫–∞–ª—å–Ω–µ –∫–æ–º–±–æ: —É–ª—å—Ç—Ä–∞—Ç–æ–Ω–∫–∏–π –ø—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤ + –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π –ø–∞–∫–µ—Ç–∏–∫ –ª—É–±—Ä–∏–∫–∞–Ω—Ç—É 2 –º–ª –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —É–ø–∞–∫–æ–≤–∫–∏. –í—Å–µ –¥–ª—è —ñ–¥–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–≤–∑–∞–Ω–Ω—è.", price: 50, oldPrice: 0, category: "–ü—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏", images: ["https://images.unsplash.com/photo-1628157588553-5eeea00af15c?auto=format&fit=crop&q=80&w=800"], rating: 5.0, specs: ["–û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å: –î–æ–¥–∞—Ç–∫–æ–≤–∏–π –ª—É–±—Ä–∏–∫–∞–Ω—Ç –≤ –∫–æ–º–ø–ª–µ–∫—Ç—ñ", "–¢–∏–ø: –¢–æ–Ω–∫—ñ"], isHit: true, inStock: true, isVisible: true },
            { id: "one-glowing", orderIndex: 12, name: "One Glowing Pleasures", shortDesc: "–°–≤—ñ—Ç—è—Ç—å—Å—è —É —Ç–µ–º—Ä—è–≤—ñ", description: "–í–∏–º–∫–Ω—ñ—Ç—å —Å–≤—ñ—Ç–ª–æ —ñ —É–≤—ñ–º–∫–Ω—ñ—Ç—å –ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç—å! –¶—ñ –ø—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏ —Å–≤—ñ—Ç—è—Ç—å—Å—è —É —Ç–µ–º—Ä—è–≤—ñ (–ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ—Ç—Ä–∏–º–∞—Ç–∏ –ø—ñ–¥ —Å–≤—ñ—Ç–ª–æ–º 30 —Å–µ–∫—É–Ω–¥). –ë–µ–∑–ø–µ—á–Ω—ñ —Ç–∞ –≤–µ—Å–µ–ª—ñ.", price: 50, oldPrice: 0, category: "–ü—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏", images: ["https://images.unsplash.com/photo-1544983050-48227b9148d4?auto=format&fit=crop&q=80&w=800"], rating: 4.8, specs: ["–ï—Ñ–µ–∫—Ç: –§–ª—É–æ—Ä–µ—Å—Ü–µ–Ω—Ç–Ω—ñ (—Å–≤—ñ—Ç—è—Ç—å—Å—è)", "–ß–∞—Å —Å–≤—ñ—Ç—ñ–Ω–Ω—è: –¥–æ 30 —Ö–≤"], isHit: true, inStock: true, isVisible: true },
            { id: "one-pleasure-plus", orderIndex: 13, name: "One Pleasure Plus", shortDesc: "–ó—ñ —Å—Ç–∏–º—É–ª—é—é—á–æ—é –≥–æ–ª—ñ–≤–∫–æ—é", description: "–ú–∞—î —É–Ω—ñ–∫–∞–ª—å–Ω—É —Ñ–æ—Ä–º—É –º—ñ—à–µ—á–∫–∞ –Ω–∞ –∫—ñ–Ω—Ü—ñ –∑ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–º–∏ —Ä–µ–±–µ—Ä—Ü—è–º–∏ –¥–ª—è –ø–æ–¥–≤—ñ–π–Ω–æ—ó —Å—Ç–∏–º—É–ª—è—Ü—ñ—ó ‚Äî –π–æ–≥–æ —Ç–∞ —ó—ó. –ù–∞—É–∫–æ–≤–æ —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–∞–∫—Å–∏–º—É–º—É –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è.", price: 50, oldPrice: 0, category: "–ü—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏", images: ["https://images.unsplash.com/photo-1579546929518-9e396f3cc809?auto=format&fit=crop&q=80&w=800"], rating: 4.9, specs: ["–§–æ—Ä–º–∞: –°—Ç–∏–º—É–ª—é—é—á–∞", "–¢–µ–∫—Å—Ç—É—Ä–∞: –†–µ–±—Ä–∏—Å—Ç–∞ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ"], isHit: true, inStock: true, isVisible: true },
            { id: "gel-one-silk-3ml", orderIndex: 14, name: "–ì–µ–ª—å One Silk 3ml", shortDesc: "–ì—ñ–±—Ä–∏–¥–Ω–∏–π –ª—É–±—Ä–∏–∫–∞–Ω—Ç (–ø—Ä–æ–±–Ω–∏–∫)", description: "–ú—ñ–Ω—ñ-–≤–µ—Ä—Å—ñ—è –ø—Ä–µ–º—ñ–∞–ª—å–Ω–æ–≥–æ –≥—ñ–±—Ä–∏–¥–Ω–æ–≥–æ –ª—É–±—Ä–∏–∫–∞–Ω—Ç—É One Silk. –ü–æ—î–¥–Ω—É—î –Ω–∞–π–∫—Ä–∞—â–µ –≤—ñ–¥ –≤–æ–¥–∏ —Ç–∞ —Å–∏–ª—ñ–∫–æ–Ω—É: –ª–µ–≥–∫–æ –∑–º–∏–≤–∞—î—Ç—å—Å—è, –∞–ª–µ –¥–æ–≤–≥–æ –∫–æ–≤–∑–∞—î. –Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ø–æ–¥–æ—Ä–æ–∂–µ–π.", price: 50, oldPrice: 0, category: "–õ—É–±—Ä–∏–∫–∞–Ω—Ç–∏", images: ["https://images.unsplash.com/photo-1629198688000-71f23e745b6e?auto=format&fit=crop&q=80&w=800"], rating: 4.7, specs: ["–û–±'—î–º: 3 –º–ª", "–û—Å–Ω–æ–≤–∞: –ì—ñ–±—Ä–∏–¥–Ω–∞ (–≤–æ–¥–∞ + —Å–∏–ª—ñ–∫–æ–Ω)", "–í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ: –®–æ–≤–∫–æ–≤–∏—Å—Ç–∏–π, –Ω–µ –ª–∏–ø–∫–∏–π"], isHit: false, inStock: true, isVisible: true },
            { id: "gel-one-move-3ml", orderIndex: 15, name: "–ì–µ–ª—å One Move 3ml", shortDesc: "–°–∏–ª—ñ–∫–æ–Ω–æ–≤–∏–π –ª—É–±—Ä–∏–∫–∞–Ω—Ç (–ø—Ä–æ–±–Ω–∏–∫)", description: "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ç—Ä–∏–≤–∞–ª–µ –∫–æ–≤–∑–∞–Ω–Ω—è. One Move –Ω–∞ —Å–∏–ª—ñ–∫–æ–Ω–æ–≤—ñ–π –æ—Å–Ω–æ–≤—ñ —ñ–¥–µ–∞–ª—å–Ω–∏–π –¥–ª—è –≤–æ–¥–∏ (–≤–∞–Ω–Ω–∞, –¥—É—à) —Ç–∞ –∞–Ω–∞–ª—å–Ω–æ–≥–æ —Å–µ–∫—Å—É. –ù–µ –≤–∏—Å–∏—Ö–∞—î.", price: 50, oldPrice: 0, category: "–õ—É–±—Ä–∏–∫–∞–Ω—Ç–∏", images: ["https://images.unsplash.com/photo-1620916566398-39f1143ab7be?auto=format&fit=crop&q=80&w=800"], rating: 4.8, specs: ["–û–±'—î–º: 3 –º–ª", "–û—Å–Ω–æ–≤–∞: –°–∏–ª—ñ–∫–æ–Ω–æ–≤–∞", "–î–ª—è –≤–æ–¥–∏: –¢–∞–∫"], isHit: false, inStock: true, isVisible: true },
            { id: "gel-one-oasis-10ml", orderIndex: 16, name: "–ì–µ–ª—å One Oasis Water", shortDesc: "–í–æ–¥–Ω–∞ –æ—Å–Ω–æ–≤–∞, 10 –º–ª", description: "–ù–∞—Ç—É—Ä–∞–ª—å–Ω–∏–π –ª—É–±—Ä–∏–∫–∞–Ω—Ç –Ω–∞ –≤–æ–¥–Ω—ñ–π –æ—Å–Ω–æ–≤—ñ One Oasis. –°—É–º—ñ—Å–Ω–∏–π –∑ —É—Å—ñ–º–∞ —ñ–≥—Ä–∞—à–∫–∞–º–∏ —Ç–∞ –ø—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∞–º–∏. –ù–µ –∑–∞–ª–∏—à–∞—î –ø–ª—è–º, –ª–µ–≥–∫–æ –∑–º–∏–≤–∞—î—Ç—å—Å—è –≤–æ–¥–æ—é.", price: 120, oldPrice: 0, category: "–õ—É–±—Ä–∏–∫–∞–Ω—Ç–∏", images: ["https://images.unsplash.com/photo-1616348436168-de43ad0db179?auto=format&fit=crop&q=80&w=800"], rating: 4.9, specs: ["–û–±'—î–º: 10 –º–ª", "–û—Å–Ω–æ–≤–∞: –í–æ–¥–Ω–∞", "–°—É–º—ñ—Å–Ω—ñ—Å—Ç—å: –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞"], isHit: false, inStock: true, isVisible: true },
            { id: "gel-one-oasis-silk-60ml", orderIndex: 17, name: "One Oasis Silk 60ml", shortDesc: "–ì—ñ–±—Ä–∏–¥–Ω–∏–π –ª—É–±—Ä–∏–∫–∞–Ω—Ç", description: "–ó–æ–ª–æ—Ç–∞ —Å–µ—Ä–µ–¥–∏–Ω–∞: –≥—ñ–±—Ä–∏–¥–Ω–∞ —Ñ–æ—Ä–º—É–ª–∞ One Oasis Silk. –ü—Ä–∏—î–º–Ω–∏–π —è–∫ –≤–æ–¥–∞, –¥–æ–≤–≥–æ—Ç—Ä–∏–≤–∞–ª–∏–π —è–∫ —Å–∏–ª—ñ–∫–æ–Ω. –ó–∞–±–µ–∑–ø–µ—á—É—î –Ω—ñ–∂–Ω–µ —à–æ–≤–∫–æ–≤–∏—Å—Ç–µ –∫–æ–≤–∑–∞–Ω–Ω—è.", price: 499, oldPrice: 0, category: "–õ—É–±—Ä–∏–∫–∞–Ω—Ç–∏", images: ["https://images.unsplash.com/photo-1556910103-1c02745a30bf?auto=format&fit=crop&q=80&w=800"], rating: 5.0, specs: ["–û–±'—î–º: 60 –º–ª", "–û—Å–Ω–æ–≤–∞: –ì—ñ–±—Ä–∏–¥–Ω–∞", "–î–æ–∑–∞—Ç–æ—Ä: –¢–∞–∫"], isHit: true, inStock: true, isVisible: true },
            { id: "gel-one-oasis-silk-236ml", orderIndex: 18, name: "One Oasis Silk 236ml", shortDesc: "–ì—ñ–±—Ä–∏–¥–Ω–∏–π, –≤–µ–ª–∏–∫–∏–π –æ–±'—î–º", description: "–í–µ–ª–∏–∫–∞ –ø–ª—è—à–∫–∞ —É–ª—é–±–ª–µ–Ω–æ–≥–æ –≥—ñ–±—Ä–∏–¥–Ω–æ–≥–æ –ª—É–±—Ä–∏–∫–∞–Ω—Ç—É One Oasis Silk. –ï–∫–æ–Ω–æ–º–Ω–∏–π –≤–∏–±—ñ—Ä –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ —Ü—ñ–Ω—É—î —è–∫—ñ—Å—Ç—å —Ç–∞ –∫–æ–º—Ñ–æ—Ä—Ç —â–æ–¥–Ω—è. –í–∏—Å—Ç–∞—á–∏—Ç—å –Ω–∞–¥–æ–≤–≥–æ!", price: 1200, oldPrice: 0, category: "–õ—É–±—Ä–∏–∫–∞–Ω—Ç–∏", images: ["https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?auto=format&fit=crop&q=80&w=800"], rating: 5.0, specs: ["–û–±'—î–º: 236 –º–ª", "–û—Å–Ω–æ–≤–∞: –ì—ñ–±—Ä–∏–¥–Ω–∞", "–î–æ–∑–∞—Ç–æ—Ä: –ü–æ–º–ø–∞"], isHit: true, inStock: true, isVisible: true }
        ];

        const CATEGORIES = [
            { name: "–ü—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤–∏", icon: "üõ°Ô∏è" },
            { name: "–õ—É–±—Ä–∏–∫–∞–Ω—Ç–∏", icon: "üíß" },
            { name: "–Ü–≥—Ä–∞—à–∫–∏", icon: "üß∏" },
            { name: "–ë—ñ–ª–∏–∑–Ω–∞", icon: "üëô" },
            { name: "–ú–∞—Å–∞–∂–µ—Ä–∏", icon: "üíÜ" }
        ];

        const isVideo = (url) => url && (url.toLowerCase().endsWith('.mp4') || url.toLowerCase().endsWith('.webm') || url.startsWith('data:video'));

        // --- COMPONENTS ---

        // –ó–º—ñ–Ω–µ–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é –∫–æ–º–ø—Ä–µ—Å—ñ—ó, —â–æ–± –≤–æ–Ω–∞ –ø–æ–≤–µ—Ä—Ç–∞–ª–∞ –æ–±—ñ—Ü—è–Ω–∫—É
        const resizeImage = (file) => {
            return new Promise((resolve) => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const img = document.createElement('img');
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        let width = img.width;
                        let height = img.height;
                        const MAX_WIDTH = 800;
                        const MAX_HEIGHT = 800;

                        if (width > height) {
                            if (width > MAX_WIDTH) {
                                height *= MAX_WIDTH / width;
                                width = MAX_WIDTH;
                            }
                        } else {
                            if (height > MAX_HEIGHT) {
                                width *= MAX_HEIGHT / height;
                                height = MAX_HEIGHT;
                            }
                        }
                        canvas.width = width;
                        canvas.height = height;
                        const ctx = canvas.getContext('2d');
                        ctx.drawImage(img, 0, 0, width, height);
                        resolve(canvas.toDataURL('image/jpeg', 0.7)); // –°—Ç–∏—Å–Ω–µ–Ω–Ω—è –¥–æ 70%
                    };
                    img.src = e.target.result;
                };
                reader.readAsDataURL(file);
            });
        };

        const AddToCartBtn = ({ product, addToCart, variant = 'icon' }) => {
            const [added, setAdded] = useState(false);
            const handleClick = (e) => { e.stopPropagation(); addToCart(product); setAdded(true); setTimeout(() => setAdded(false), 2000); };
            
            if (product.inStock === false) {
                if (variant === 'icon') return <button disabled className="p-3 rounded-xl bg-slate-700 text-gray-500 cursor-not-allowed"><Icons.ShoppingBag size={20}/></button>;
                return <button disabled className="flex-1 font-bold py-5 px-8 rounded-2xl bg-slate-700 text-gray-500 cursor-not-allowed flex items-center justify-center gap-3">–ù–µ–º–∞—î –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ</button>;
            }

            if (variant === 'icon') return (<button onClick={handleClick} className={`p-3 rounded-xl transition-all duration-300 z-20 ${added ? 'bg-green-500 text-white shadow-green-500/50 shadow-lg' : 'bg-white/10 hover:bg-violet-600 text-white'}`} title={added ? "–î–æ–¥–∞–Ω–æ" : "–í –∫–æ—à–∏–∫"}>{added ? <Icons.Check size={20}/> : <Icons.ShoppingBag size={20}/>}</button>);
            return (<button onClick={handleClick} className={`flex-1 font-bold py-5 px-8 rounded-2xl shadow-lg flex items-center justify-center gap-3 transition-all duration-300 active:scale-95 ${added ? 'bg-green-600 hover:bg-green-700 text-white' : 'bg-violet-600 hover:bg-violet-700 text-white'}`}>{added ? <Icons.Check size={24}/> : <Icons.ShoppingBag size={24}/>}{added ? '–î–æ–¥–∞–Ω–æ!' : '–î–æ–¥–∞—Ç–∏ –≤ –∫–æ—à–∏–∫'}</button>);
        };

        const ProductCard = ({ product, navigateToProduct, addToCart }) => (
            <div className={`group bg-slate-800 rounded-2xl border border-white/5 overflow-hidden hover:border-violet-500/50 transition-all duration-300 hover:shadow-2xl cursor-pointer flex flex-col h-full relative ${product.inStock === false ? 'grayscale-card' : ''}`} onClick={() => navigateToProduct(product.id)}>
                <div className="relative aspect-[4/5] bg-slate-700 overflow-hidden">
                    {product.images && product.images.length > 0 ? (isVideo(product.images[0]) ? <video src={product.images[0]} muted loop autoPlay playsInline className="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700" /> : <img src={product.images[0]} alt={product.name} className="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"/>) : <div className="w-full h-full flex items-center justify-center bg-slate-800 text-gray-500"><Icons.Image size={40}/></div>}
                    
                    <div className="absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                        <span className="bg-white/20 backdrop-blur-md text-white px-4 py-2 rounded-full text-sm font-bold border border-white/30 flex items-center gap-2">
                            <Icons.Eye size={16} /> –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏
                        </span>
                    </div>

                    {product.isHit && <div className="absolute top-3 left-3 bg-fuchsia-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg z-10 flex items-center gap-1"><Icons.Flame size={12}/> HIT</div>}
                    
                    {product.inStock === false && (
                        <div className="absolute inset-0 bg-black/60 flex items-center justify-center z-20">
                            <span className="text-white font-bold text-sm bg-red-600 px-3 py-1 rounded">–ù–ï–ú–ê–Ñ –í –ù–ê–Ø–í–ù–û–°–¢–Ü</span>
                        </div>
                    )}
                </div>
                <div className="p-5 flex-1 flex flex-col">
                    <div className="text-xs font-bold text-violet-400 uppercase tracking-wider mb-2">{product.category}</div>
                    <h3 className="text-lg font-bold text-white mb-1 group-hover:text-violet-300 transition-colors line-clamp-1">{product.name}</h3>
                    <p className="text-sm text-gray-400 mb-2 line-clamp-2">{product.shortDesc}</p>
                    <div className="text-violet-400 text-xs font-bold mb-4 flex items-center gap-1 group-hover:text-violet-300 transition-colors">–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ <Icons.ChevronRight size={12}/></div>
                    <div className="mt-auto flex items-center justify-between">
                        <div><span className="text-2xl font-bold text-white">{product.price} ‚Ç¥</span>{product.oldPrice > 0 && <span className="text-sm text-gray-500 line-through ml-2">{product.oldPrice} ‚Ç¥</span>}</div>
                        <AddToCartBtn product={product} addToCart={addToCart} />
                    </div>
                </div>
            </div>
        );

        const InfoPage = ({ page, goBack }) => {
            const data = INFO_PAGES[page];
            if (!data) return null;
            return (
                <div className="min-h-screen bg-slate-900 pb-20 pt-10 animate-fade-in">
                    <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                        <button onClick={goBack} className="flex items-center text-gray-400 hover:text-white mb-8 gap-2"><Icons.ArrowLeft size={20}/> –ù–∞–∑–∞–¥</button>
                        <div className="bg-slate-800 rounded-3xl p-8 md:p-12 border border-white/10 shadow-2xl">
                            <h1 className="text-3xl md:text-4xl font-extrabold text-white mb-8 border-b border-white/10 pb-6">{data.title}</h1>
                            <div className="prose prose-invert max-w-none">{data.content}</div>
                        </div>
                    </div>
                </div>
            );
        };

        const ProductPage = ({ product, goBack, addToCart }) => {
            const [currentImg, setCurrentImg] = useState(0);
            if (!product) return <div className="min-h-screen bg-slate-900 pt-20 flex items-center justify-center text-center"><h2 className="text-2xl font-bold text-white mb-2">–¢–æ–≤–∞—Ä –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</h2><button onClick={goBack} className="text-violet-400 hover:text-white font-bold">–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å</button></div>;
            const images = product.images || [];
            const nextImage = (e) => { e.stopPropagation(); setCurrentImg((prev) => (prev === images.length - 1 ? 0 : prev + 1)); };
            const prevImage = (e) => { e.stopPropagation(); setCurrentImg((prev) => (prev === 0 ? images.length - 1 : prev - 1)); };

            return (
                <div className="min-h-screen bg-slate-900 pb-20 pt-10 animate-fade-in">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <button onClick={goBack} className="flex items-center text-gray-400 hover:text-white mb-8 gap-2"><Icons.ArrowLeft size={20}/> –ù–∞–∑–∞–¥</button>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-12">
                            <div className="space-y-4 select-none">
                                <div className={`aspect-square rounded-3xl overflow-hidden bg-slate-800 border border-white/10 shadow-2xl relative group ${product.inStock === false ? 'grayscale-card' : ''}`}>
                                    {images.length > 0 ? (
                                        <div key={currentImg} className="w-full h-full animate-fade-fast">
                                            {isVideo(images[currentImg]) ? <video src={images[currentImg]} controls className="w-full h-full object-contain bg-black" /> : <img src={images[currentImg]} className="w-full h-full object-cover" />}
                                        </div>
                                    ) : (<div className="w-full h-full flex items-center justify-center text-gray-600"><Icons.Image size={64}/></div>)}
                                    {product.inStock === false && <div className="absolute inset-0 bg-black/60 flex items-center justify-center z-20"><span className="text-white font-bold text-lg bg-red-600 px-4 py-2 rounded">–ù–ï–ú–ê–Ñ –í –ù–ê–Ø–í–ù–û–°–¢–Ü</span></div>}
                                    {images.length > 1 && (<><button onClick={prevImage} className="absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-black/60 text-white hover:bg-violet-600 transition z-10"><Icons.ChevronLeft size={24}/></button><button onClick={nextImage} className="absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-black/60 text-white hover:bg-violet-600 transition z-10"><Icons.ChevronRight size={24}/></button></>)}
                                </div>
                                {images.length > 1 && (<div className="flex gap-4 overflow-x-auto pb-2 scrollbar-hide">{images.map((img, idx) => (<button key={idx} onClick={() => setCurrentImg(idx)} className={`w-20 h-20 rounded-xl overflow-hidden border-2 flex-shrink-0 transition-all ${currentImg === idx ? 'border-violet-500 scale-105' : 'border-transparent opacity-70 hover:opacity-100'}`}>{isVideo(img) ? <div className="w-full h-full bg-black flex items-center justify-center"><Icons.Video size={24} className="text-white"/></div> : <img src={img} className="w-full h-full object-cover"/>}</button>))}</div>)}
                            </div>
                            <div>
                                <div className="flex items-center gap-4 mb-4"><span className="px-3 py-1 rounded-full bg-violet-900/50 text-violet-300 text-sm font-bold">{product.category}</span>{product.isHit && <span className="flex items-center gap-1 text-yellow-400 text-sm font-bold"><Icons.Star fill="currentColor" size={16}/> 4.9</span>}</div>
                                <h1 className="text-3xl md:text-5xl font-extrabold text-white mb-4">{product.name}</h1>
                                <div className="flex items-end gap-4 mb-8"><span className="text-4xl font-bold text-white">{product.price} ‚Ç¥</span>{product.oldPrice > 0 && <span className="text-xl text-gray-500 line-through mb-1">{product.oldPrice} ‚Ç¥</span>}</div>
                                <p className="text-lg text-gray-300 leading-relaxed mb-10">{product.description}</p>
                                {product.specs && product.specs.length > 0 && (<div className="bg-slate-800/50 rounded-2xl p-6 mb-10 border border-white/5"><h3 className="font-bold text-white mb-4">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h3><ul className="grid grid-cols-1 sm:grid-cols-2 gap-y-3 gap-x-8">{product.specs.map((spec, idx) => (<li key={idx} className="flex items-center text-gray-400 text-sm"><span className="w-1.5 h-1.5 rounded-full bg-violet-500 mr-3"></span>{spec}</li>))}</ul></div>)}
                                <div className="flex gap-4"><AddToCartBtn product={product} addToCart={addToCart} variant="full" /></div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const CartView = ({ cart, updateQty, removeFromCart, goHome, cartTotal, changeRoute }) => (
            <div className="min-h-screen bg-slate-900 py-12 px-4 animate-fade-in">
                <div className="max-w-3xl mx-auto">
                    <h1 className="text-3xl font-bold text-white mb-8">–ö–æ—à–∏–∫</h1>
                    {cart.length === 0 ? (
                        <div className="text-center py-20 bg-slate-800 rounded-2xl border border-white/10"><Icons.ShoppingBag size={64} className="mx-auto text-gray-600 mb-4"/><p className="text-gray-400">–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π</p><button onClick={() => changeRoute('home')} className="mt-4 text-violet-400 font-bold">–î–æ –ø–æ–∫—É–ø–æ–∫</button></div>
                    ) : (
                        <div className="space-y-6">
                            <div className="bg-slate-800 rounded-2xl border border-white/10 overflow-hidden">
                                {cart.map(item => (
                                    <div key={item.id} className="p-4 flex gap-4 border-b border-white/5 items-center">
                                        <img src={item.images?.[0] || 'https://via.placeholder.com/100'} className="w-16 h-16 rounded object-cover"/>
                                        <div className="flex-1"><h3 className="font-bold">{item.name}</h3><p className="text-sm text-gray-400">{item.price} ‚Ç¥</p></div>
                                        <div className="flex items-center gap-3 bg-slate-900 rounded p-1"><button onClick={()=>updateQty(item.id, -1)} className="p-1 text-gray-400 hover:text-white"><Icons.Minus size={14}/></button><span className="text-sm font-bold w-4 text-center">{item.qty}</span><button onClick={()=>updateQty(item.id, 1)} className="p-1 text-gray-400 hover:text-white"><Icons.Plus size={14}/></button></div>
                                        <button onClick={()=>removeFromCart(item.id)} className="text-gray-500 hover:text-red-500"><Icons.Trash2 size={18}/></button>
                                    </div>
                                ))}
                            </div>
                            <div className="flex justify-between items-center"><span className="text-gray-400">–†–∞–∑–æ–º:</span><span className="text-2xl font-bold text-violet-400">{cartTotal} ‚Ç¥</span></div>
                            <button onClick={() => changeRoute('checkout')} className="w-full bg-violet-600 hover:bg-violet-700 text-white font-bold py-4 rounded-xl">–û—Ñ–æ—Ä–º–∏—Ç–∏</button>
                        </div>
                    )}
                </div>
            </div>
        );

        const CheckoutView = ({ cart, cartTotal, goBack, clearCart, changeRoute }) => {
            const [form, setForm] = useState({ firstName: '', lastName: '', phone: '', city: '', branch: '' });
            const [paymentMethod, setPaymentMethod] = useState('cod');
            const [isSending, setIsSending] = useState(false);
            const TELEGRAM_BOT_TOKEN = "8490403071:AAFZvriLL_vzQq-ziMVTfiHAu8DmtH84Fjk";
            const TELEGRAM_CHAT_ID = "7085928669";

            const submitOrder = async (e) => {
                e.preventDefault();
                setIsSending(true);
                const list = cart.map(i => `${i.name} (${i.qty} —à—Ç) - ${i.price * i.qty} –≥—Ä–Ω`).join('\n');
                const payText = paymentMethod === 'card' ? 'üí≥ –ö–∞—Ä—Ç–∞ (–û—á—ñ–∫—É—î –æ–ø–ª–∞—Ç–∏)' : 'üì¶ –ù–∞–∫–ª–∞–¥–Ω–∏–π –ø–ª–∞—Ç—ñ–∂';
                const msg = `<b>üî• –ó–ê–ú–û–í–õ–ï–ù–ù–Ø!</b>\n\nüë§ <b>${form.firstName} ${form.lastName}</b>\nüìû ${form.phone}\nüèô ${form.city}\nüì¶ ${form.branch}\n\nüí∞ <b>–ú–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç–∏:</b> ${payText}\n\nüõí:\n${list}\n\nüíµ <b>–°–£–ú–ê: ${cartTotal} –≥—Ä–Ω</b>`;
                if (paymentMethod === 'card') await new Promise(resolve => setTimeout(resolve, 1500));
                try {
                    await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({ chat_id: TELEGRAM_CHAT_ID, text: msg, parse_mode: 'HTML' }) });
                    if (paymentMethod === 'card') alert("–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏–π–Ω—è—Ç–æ! –ú–µ–Ω–µ–¥–∂–µ—Ä –Ω–∞–¥—ñ—à–ª–µ —Ä–µ–∫–≤—ñ–∑–∏—Ç–∏ –¥–ª—è –æ–ø–ª–∞—Ç–∏."); else alert("–î—è–∫—É—î–º–æ! –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏–π–Ω—è—Ç–æ.");
                    clearCart(); changeRoute('home');
                } catch (e) { alert("–ü–æ–º–∏–ª–∫–∞."); } finally { setIsSending(false); }
            };

            return (
                <div className="min-h-screen bg-slate-900 py-12 px-4 animate-fade-in">
                    <div className="max-w-3xl mx-auto">
                        <h1 className="text-3xl font-bold text-white mb-8">–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è</h1>
                        <div className="bg-slate-800 rounded-2xl p-8 border border-white/10">
                            <button onClick={goBack} className="mb-6 flex items-center gap-2 text-gray-400 hover:text-white"><Icons.ArrowLeft size={16}/> –ù–∞–∑–∞–¥</button>
                            <form onSubmit={submitOrder} className="space-y-6">
                                <div className="grid md:grid-cols-2 gap-4">
                                    <div><label className="block text-sm font-bold text-gray-400 mb-2">–Ü–º'—è</label><input required className="w-full bg-slate-900 border border-white/10 rounded-xl px-4 py-3 outline-none focus:border-violet-500" value={form.firstName} onChange={e=>setForm({...form, firstName:e.target.value})} /></div>
                                    <div><label className="block text-sm font-bold text-gray-400 mb-2">–ü—Ä—ñ–∑–≤–∏—â–µ</label><input required className="w-full bg-slate-900 border border-white/10 rounded-xl px-4 py-3 outline-none focus:border-violet-500" value={form.lastName} onChange={e=>setForm({...form, lastName:e.target.value})} /></div>
                                </div>
                                <input required placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" className="w-full bg-slate-900 border border-white/10 rounded-xl px-4 py-3 outline-none focus:border-violet-500" value={form.phone} onChange={e=>setForm({...form, phone:e.target.value})} />
                                <div className="pt-4 border-t border-white/5"><h3 className="font-bold mb-4 flex gap-2"><Icons.Truck className="text-violet-500"/> –î–æ—Å—Ç–∞–≤–∫–∞</h3><div className="grid md:grid-cols-2 gap-4"><input required placeholder="–ú—ñ—Å—Ç–æ" list="cities" className="w-full bg-slate-900 border border-white/10 rounded-xl px-4 py-3 outline-none focus:border-violet-500" value={form.city} onChange={e=>setForm({...form, city:e.target.value})} /><datalist id="cities">{POPULAR_CITIES.map(c=><option key={c} value={c}/>)}</datalist><input required placeholder="–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è ‚Ññ" className="w-full bg-slate-900 border border-white/10 rounded-xl px-4 py-3 outline-none focus:border-violet-500" value={form.branch} onChange={e=>setForm({...form, branch:e.target.value})} /></div></div>
                                <div className="pt-4 border-t border-white/5"><h3 className="font-bold mb-4 flex gap-2"><Icons.CreditCard className="text-violet-500"/> –û–ø–ª–∞—Ç–∞</h3><div className="flex flex-col gap-3"><label className={`flex items-center gap-3 p-4 rounded-xl border cursor-pointer transition ${paymentMethod === 'cod' ? 'border-violet-500 bg-violet-500/10' : 'border-white/10 bg-slate-900 hover:bg-slate-700'}`}><input type="radio" name="payment" className="hidden" checked={paymentMethod === 'cod'} onChange={() => setPaymentMethod('cod')} /><div className="w-5 h-5 rounded-full border-2 border-gray-400 flex items-center justify-center">{paymentMethod === 'cod' && <div className="w-2.5 h-2.5 rounded-full bg-violet-500"></div>}</div><span>–ù–∞–∫–ª–∞–¥–µ–Ω–∏–π –ø–ª–∞—Ç—ñ–∂</span></label><label className={`flex items-center gap-3 p-4 rounded-xl border cursor-pointer transition ${paymentMethod === 'card' ? 'border-violet-500 bg-violet-500/10' : 'border-white/10 bg-slate-900 hover:bg-slate-700'}`}><input type="radio" name="payment" className="hidden" checked={paymentMethod === 'card'} onChange={() => setPaymentMethod('card')} /><div className="w-5 h-5 rounded-full border-2 border-gray-400 flex items-center justify-center">{paymentMethod === 'card' && <div className="w-2.5 h-2.5 rounded-full bg-violet-500"></div>}</div><span>–û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–∫–æ—é</span></label></div></div>
                                <button disabled={isSending} className="w-full bg-violet-600 hover:bg-violet-700 text-white font-bold py-4 rounded-xl mt-6 transition-all shadow-lg flex items-center justify-center gap-2">{isSending ? '–û–±—Ä–æ–±–∫–∞...' : paymentMethod === 'card' ? `–û–ø–ª–∞—Ç–∏—Ç–∏ ${cartTotal} ‚Ç¥` : `–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è`}</button>
                            </form>
                        </div>
                    </div>
                </div>
            );
        };

        const AdminPanel = ({ products, setProducts, setEditId }) => {
            const [localEditId, setLocalEditId] = useState(null);
            const [formData, setFormData] = useState(null);
            const [urlInput, setUrlInput] = useState("");

            const handleCreateNew = () => {
                const newProduct = {
                    id: Date.now(),
                    name: "–ù–æ–≤–∏–π —Ç–æ–≤–∞—Ä",
                    price: 0,
                    category: "–Ü–≥—Ä–∞—à–∫–∏",
                    images: [],
                    rating: 0,
                    specs: [],
                    isHit: false,
                    inStock: true,
                    isVisible: true,
                    shortDesc: "",
                    description: "",
                    oldPrice: 0,
                    orderIndex: products.length > 0 ? Math.max(...products.map(p => p.orderIndex || 0)) + 1 : 1,
                    createdAt: new Date()
                };

                if (db) {
                     db.collection("products").doc(String(newProduct.id)).set(newProduct).then(() => {
                        setLocalEditId(newProduct.id);
                        setFormData(newProduct);
                     });
                } else {
                    setProducts([...products, newProduct]);
                    setLocalEditId(newProduct.id);
                    setFormData(newProduct);
                }
            };

            const handleReset = async () => {
                if (!window.confirm("–¶–µ –≤–∏–¥–∞–ª–∏—Ç—å –≤—Å—ñ –ø–æ—Ç–æ—á–Ω—ñ —Ç–æ–≤–∞—Ä–∏ —ñ –≤—ñ–¥–Ω–æ–≤–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –Ω–∞–±—ñ—Ä. –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏?")) return;
                
                if (db) {
                    const snapshot = await db.collection("products").get();
                    const batch = db.batch();
                    snapshot.docs.forEach((doc) => {
                        batch.delete(doc.ref);
                    });
                    await batch.commit();
                    
                    const batchAdd = db.batch();
                    INITIAL_PRODUCTS_SEED.forEach((p, index) => {
                        const docRef = db.collection("products").doc(String(p.id));
                        batchAdd.set(docRef, { ...p, orderIndex: index, inStock: true, isVisible: true });
                    });
                    await batchAdd.commit();
                    alert("–¢–æ–≤–∞—Ä–∏ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–æ!");
                } else {
                    setProducts(INITIAL_PRODUCTS_SEED);
                    alert("–¢–æ–≤–∞—Ä–∏ —Å–∫–∏–Ω—É—Ç–æ (–ª–æ–∫–∞–ª—å–Ω–æ)!");
                }
            };

            const handleEdit = (product) => {
                setLocalEditId(product.id);
                setFormData({...product});
            };

            const handleSave = async (e) => {
                e.preventDefault();
                if (!formData) return;
                
                try {
                    if (db) {
                        await db.collection("products").doc(String(formData.id)).set(formData);
                    } else {
                        setProducts(products.map(p => p.id === formData.id ? formData : p));
                    }
                    setLocalEditId(null);
                } catch (error) {
                    console.error("Error saving:", error);
                    alert("–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è! –ô–º–æ–≤—ñ—Ä–Ω–æ, —Ñ–æ—Ç–æ –∑–∞–Ω–∞–¥—Ç–æ –≤–µ–ª–∏–∫—ñ. –°–ø—Ä–æ–±—É–π—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ –∫—ñ–ª—å–∫–∞ —Ñ–æ—Ç–æ –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –º–µ–Ω—à—ñ.");
                }
            };

            const handleDelete = async (id) => {
                if (!window.confirm("–í–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π —Ç–æ–≤–∞—Ä?")) return;
                
                if (db) {
                    await db.collection("products").doc(String(id)).delete();
                } else {
                    setProducts(products.filter(p => p.id !== id));
                }
            };

            const handleDuplicate = async (product) => {
                 const newProduct = {
                    ...product,
                    id: Date.now(),
                    name: product.name + " (–ö–æ–ø—ñ—è)",
                    orderIndex: products.length > 0 ? Math.max(...products.map(p => p.orderIndex || 0)) + 1 : 1,
                    createdAt: new Date()
                };

                if (db) {
                    await db.collection("products").doc(String(newProduct.id)).set(newProduct);
                } else {
                    setProducts([...products, newProduct]);
                }
            };

            // --- –ù–û–í–Ü –§–£–ù–ö–¶–Ü–á –î–õ–Ø –ö–ù–û–ü–û–ö ---

            const handleToggleStock = async (product) => {
                const updated = { ...product, inStock: !product.inStock };
                if(db) await db.collection("products").doc(String(product.id)).update({ inStock: updated.inStock });
                else setProducts(products.map(p => p.id === product.id ? updated : p));
            };

            const handleToggleVisibility = async (product) => {
                const updated = { ...product, isVisible: !product.isVisible };
                if(db) await db.collection("products").doc(String(product.id)).update({ isVisible: updated.isVisible });
                else setProducts(products.map(p => p.id === product.id ? updated : p));
            };

            const handleMove = async (index, direction) => {
                if (direction === 'up' && index === 0) return;
                if (direction === 'down' && index === products.length - 1) return;

                const newProducts = [...products];
                const targetIndex = direction === 'up' ? index - 1 : index + 1;
                
                // Swap items in array
                [newProducts[index], newProducts[targetIndex]] = [newProducts[targetIndex], newProducts[index]];

                // Swap orderIndex values to persist order
                const tempOrder = newProducts[index].orderIndex;
                newProducts[index].orderIndex = newProducts[targetIndex].orderIndex;
                newProducts[targetIndex].orderIndex = tempOrder;

                if (db) {
                    // Update both docs in DB
                    await db.collection("products").doc(String(newProducts[index].id)).update({ orderIndex: newProducts[index].orderIndex });
                    await db.collection("products").doc(String(newProducts[targetIndex].id)).update({ orderIndex: newProducts[targetIndex].orderIndex });
                } else {
                    setProducts(newProducts);
                }
            };

            // ---

            const handleImageUpload = async (e) => {
                const files = Array.from(e.target.files);
                const resizedImages = await Promise.all(files.map(file => resizeImage(file)));
                setFormData(p => ({...p, images: [...p.images, ...resizedImages]}));
            };

            const handleAddUrl = () => { if(urlInput) { setFormData(p => ({...p, images: [...p.images, urlInput]})); setUrlInput(""); } };
            const removeImage = (index) => setFormData(prev => ({...prev, images: prev.images.filter((_, i) => i !== index)}));
            const addSpec = () => setFormData({...formData, specs: [...(formData.specs || []), ""]});
            const updateSpec = (i, val) => { const newSpecs = [...(formData.specs || [])]; newSpecs[i] = val; setFormData({...formData, specs: newSpecs}); };
            const removeSpec = (i) => setFormData({...formData, specs: formData.specs.filter((_, idx) => idx !== i)});

            if (localEditId && formData) {
                return (
                    <div className="min-h-screen bg-slate-900 py-12 px-4 animate-fade-in">
                        <div className="max-w-4xl mx-auto bg-slate-800 p-8 rounded-2xl border border-white/10">
                            <div className="flex justify-between items-center mb-8"><h2 className="text-2xl font-bold text-white">–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è</h2><button onClick={()=>setLocalEditId(null)} className="text-gray-400 hover:text-white"><Icons.X/></button></div>
                            <form onSubmit={handleSave} className="space-y-6">
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div><label className="block text-sm font-bold text-gray-400 mb-2">–ù–∞–∑–≤–∞</label><input value={formData.name} onChange={e=>setFormData({...formData, name:e.target.value})} className="w-full bg-slate-900 border border-white/10 rounded-xl px-4 py-3 text-white outline-none focus:border-violet-500" /></div>
                                    <div><label className="block text-sm font-bold text-gray-400 mb-2">–¶—ñ–Ω–∞</label><input type="number" value={formData.price} onChange={e=>setFormData({...formData, price:Number(e.target.value)})} className="w-full bg-slate-900 border border-white/10 rounded-xl px-4 py-3 text-white outline-none focus:border-violet-500" /></div>
                                    <div><label className="block text-sm font-bold text-gray-400 mb-2">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</label><select value={formData.category} onChange={e=>setFormData({...formData, category:e.target.value})} className="w-full bg-slate-900 border border-white/10 rounded-xl px-4 py-3 text-white outline-none focus:border-violet-500">{CATEGORIES.map(c=><option key={c.name} value={c.name}>{c.name}</option>)}<option value="–Ü–Ω—à–µ">–Ü–Ω—à–µ</option></select></div>
                                    <div><label className="block text-sm font-bold text-gray-400 mb-2">–°—Ç–∞—Ä–∞ —Ü—ñ–Ω–∞ (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)</label><input type="number" value={formData.oldPrice || ''} onChange={e=>setFormData({...formData, oldPrice:Number(e.target.value)})} className="w-full bg-slate-900 border border-white/10 rounded-xl px-4 py-3 text-white outline-none focus:border-violet-500" placeholder="0" /></div>
                                </div>
                                <div><label className="block text-sm font-bold text-gray-400 mb-2">–ú–µ–¥—ñ–∞</label><div className="flex flex-wrap gap-4 mb-4">{formData.images?.map((img, i) => <div key={i} className="relative w-24 h-24 rounded-lg overflow-hidden border border-white/20 group bg-black">{isVideo(img) ? <video src={img} className="w-full h-full object-cover"/> : <img src={img} className="w-full h-full object-cover"/>}<button type="button" onClick={() => removeImage(i)} className="absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition text-red-500"><Icons.Trash2/></button></div>)}<label className="w-24 h-24 rounded-lg border-2 border-dashed border-white/20 flex flex-col items-center justify-center text-gray-400 cursor-pointer hover:border-violet-500"><Icons.Upload size={24}/><input type="file" multiple className="hidden" onChange={handleImageUpload}/></label></div><div className="flex gap-2"><input value={urlInput} onChange={e => setUrlInput(e.target.value)} placeholder="–í—Å—Ç–∞–≤—Ç–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ñ–æ—Ç–æ –∞–±–æ .mp4 –≤—ñ–¥–µ–æ" className="flex-1 bg-slate-900 border border-white/10 rounded-xl px-4 py-2 text-white outline-none focus:border-violet-500 text-sm"/><button type="button" onClick={handleAddUrl} className="bg-slate-700 hover:bg-violet-600 text-white px-4 rounded-xl text-sm font-bold">–î–æ–¥–∞—Ç–∏ URL</button></div></div>
                                <div><label className="block text-sm font-bold text-gray-400 mb-2">–û–ø–∏—Å</label><textarea rows={4} value={formData.description} onChange={e=>setFormData({...formData, description:e.target.value})} className="w-full bg-slate-900 border border-white/10 rounded-xl px-4 py-3 text-white outline-none focus:border-violet-500" /></div>
                                <div className="bg-slate-900 p-4 rounded-xl border border-white/10"><div className="flex justify-between items-center mb-4"><label className="block text-sm font-bold text-gray-400">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</label><button type="button" onClick={addSpec} className="text-xs bg-violet-600 px-3 py-1 rounded text-white">–î–æ–¥–∞—Ç–∏</button></div><div className="space-y-2">{formData.specs?.map((spec, i) => (<div key={i} className="flex gap-2"><input value={spec} onChange={e => updateSpec(i, e.target.value)} className="flex-1 bg-slate-800 border border-white/10 rounded px-3 py-2 text-white outline-none" /><button type="button" onClick={() => removeSpec(i)} className="text-red-500 hover:text-red-400"><Icons.Trash2 size={18}/></button></div>))}</div></div>
                                <button className="bg-violet-600 text-white font-bold py-3 px-8 rounded-xl">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                            </form>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-slate-900 py-12 px-4 animate-fade-in">
                    <div className="max-w-7xl mx-auto">
                        <div className="flex justify-between items-center mb-8">
                            <h1 className="text-3xl font-bold text-white flex items-center gap-3"><Icons.Settings className="text-violet-500" /> –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è</h1>
                            <div className="flex gap-2">
                                <button onClick={handleReset} className="flex items-center gap-2 bg-red-600/20 text-red-400 px-4 py-2 rounded-lg hover:bg-red-600 hover:text-white transition font-bold border border-red-600/50"><Icons.RefreshCw size={18}/> –°–∫–∏–Ω—É—Ç–∏ —Ç–∞ –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏</button>
                                <button onClick={handleCreateNew} className="flex items-center gap-2 bg-violet-600 text-white px-4 py-2 rounded-lg hover:bg-violet-700 transition font-bold"><Icons.Plus size={18}/> –ù–æ–≤–∏–π —Ç–æ–≤–∞—Ä</button>
                            </div>
                        </div>
                        <div className="bg-slate-800 rounded-2xl border border-white/10 overflow-hidden">
                            <table className="w-full text-left">
                                <thead className="bg-slate-900/50 text-gray-400 text-xs uppercase">
                                    <tr>
                                        <th className="p-4 w-10">#</th>
                                        <th className="p-4">–§–æ—Ç–æ</th>
                                        <th className="p-4">–ù–∞–∑–≤–∞</th>
                                        <th className="p-4 hidden sm:table-cell">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</th>
                                        <th className="p-4">–¶—ñ–Ω–∞</th>
                                        <th className="p-4 text-right">–î—ñ—ó</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y divide-white/5">
                                    {products.map((p, idx) => (
                                        <tr key={p.id} className={`hover:bg-white/5 transition ${!p.isVisible ? 'opacity-50' : ''}`}>
                                            <td className="p-4 text-gray-500">
                                                <div className="flex flex-col gap-1">
                                                    <button onClick={() => handleMove(idx, 'up')} className="hover:text-white p-2 bg-slate-700 rounded-md" disabled={idx === 0}><Icons.ArrowUp size={16}/></button>
                                                    <button onClick={() => handleMove(idx, 'down')} className="hover:text-white p-2 bg-slate-700 rounded-md" disabled={idx === products.length - 1}><Icons.ArrowDown size={16}/></button>
                                                </div>
                                            </td>
                                            <td className="p-4">
                                                <div className="w-12 h-12 rounded overflow-hidden bg-slate-700 flex items-center justify-center">
                                                    {p.images && p.images.length > 0 ? (
                                                        isVideo(p.images[0]) ? (
                                                            <Icons.Video size={20} className="text-gray-400"/>
                                                        ) : (
                                                            <img src={p.images[0]} alt="" className="w-full h-full object-cover"/>
                                                        )
                                                    ) : (
                                                        <Icons.Image size={20} className="text-gray-500"/>
                                                    )}
                                                </div>
                                            </td>
                                            <td className="p-4 font-bold text-white">
                                                {p.name}
                                                {p.inStock === false && <span className="ml-2 text-[10px] bg-red-600 px-2 py-0.5 rounded text-white">–ù–µ–º–∞—î</span>}
                                                {p.isVisible === false && <span className="ml-2 text-[10px] bg-gray-600 px-2 py-0.5 rounded text-white">–ü—Ä–∏—Ö–æ–≤–∞–Ω–æ</span>}
                                            </td>
                                            <td className="p-4 text-gray-400 hidden sm:table-cell">{p.category}</td>
                                            <td className="p-4 text-white">{p.price} ‚Ç¥</td>
                                            <td className="p-4 text-right whitespace-nowrap">
                                                <button onClick={()=>handleToggleStock(p)} className={`p-2 rounded-lg transition mr-1 ${p.inStock === false ? 'bg-red-500/20 text-red-400' : 'bg-green-500/20 text-green-400 hover:bg-green-500 hover:text-white'}`} title={p.inStock === false ? "–ü–æ–∑–Ω–∞—á–∏—Ç–∏ —è–∫ –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ" : "–ü–æ–∑–Ω–∞—á–∏—Ç–∏ —è–∫ –Ω–µ–º–∞—î"}>
                                                    {p.inStock === false ? <Icons.PackageX size={16}/> : <Icons.PackageCheck size={16}/>}
                                                </button>
                                                <button onClick={()=>handleToggleVisibility(p)} className={`p-2 rounded-lg transition mr-1 ${p.isVisible === false ? 'bg-gray-700 text-gray-400' : 'bg-slate-700 text-white hover:bg-slate-600'}`} title={p.isVisible === false ? "–ü–æ–∫–∞–∑–∞—Ç–∏" : "–ü—Ä–∏—Ö–æ–≤–∞—Ç–∏"}>
                                                    {p.isVisible === false ? <Icons.EyeOff size={16}/> : <Icons.Eye size={16}/>}
                                                </button>
                                                <button onClick={()=>handleEdit(p)} className="bg-slate-700 hover:bg-violet-600 text-white p-2 rounded-lg transition mr-1" title="–†–µ–¥–∞–≥—É–≤–∞—Ç–∏"><Icons.Edit2 size={16}/></button>
                                                <button onClick={()=>handleDuplicate(p)} className="bg-slate-700 hover:bg-blue-600 text-white p-2 rounded-lg transition mr-1" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏"><Icons.Copy size={16}/></button>
                                                <button onClick={()=>handleDelete(p.id)} className="bg-slate-700 hover:bg-red-600 text-white p-2 rounded-lg transition" title="–í–∏–¥–∞–ª–∏—Ç–∏"><Icons.Trash2 size={16}/></button>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            );
        };

        const Header = ({ goHome, changeRoute, cart, isMobileMenuOpen, setIsMobileMenuOpen, isAdminMode, setIsAdminMode }) => (
            <nav className="sticky top-0 z-50 bg-slate-900/95 backdrop-blur-md border-b border-white/10 shadow-lg">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div className="flex justify-between items-center h-20">
                        <div className="flex items-center gap-3 cursor-pointer group" onClick={goHome}>
                            <BrandLogo />
                            <div className="flex flex-col"><span className="text-xl font-black text-white tracking-wide leading-none">NIGHT</span><span className="text-sm font-bold text-violet-400 tracking-[0.2em] leading-none">SECRET</span></div>
                        </div>
                        <div className="hidden md:flex items-center space-x-8 text-sm font-medium text-gray-300">
                            <button onClick={goHome} className="hover:text-white transition-colors">–ì–æ–ª–æ–≤–Ω–∞</button>
                            <button onClick={() => { changeRoute('home'); setTimeout(() => document.getElementById('categories')?.scrollIntoView({behavior:'smooth'}), 100)}} className="hover:text-white transition-colors">–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó</button>
                        </div>
                        <div className="flex items-center gap-4">
                            {isAdminMode && <button onClick={() => setIsAdminMode(false)} className="flex items-center gap-2 px-3 py-2 rounded-full bg-red-600 text-white text-xs font-bold uppercase"><Icons.LogOut size={16} /> –í–∏—Ö—ñ–¥</button>}
                            <button onClick={() => { changeRoute('cart'); setIsMobileMenuOpen(false); }} className="relative p-2 text-gray-400 hover:text-white transition-colors">
                                <Icons.ShoppingBag size={24} />
                                {cart.length > 0 && <span className="absolute -top-1 -right-1 bg-fuchsia-600 text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full animate-bounce">{cart.reduce((a,b) => a + b.qty, 0)}</span>}
                            </button>
                            <button className="md:hidden p-2 text-gray-400 hover:text-white" onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}>{isMobileMenuOpen ? <Icons.X size={24} /> : <Icons.Menu size={24} />}</button>
                        </div>
                    </div>
                </div>
                {isMobileMenuOpen && (
                    <div className="md:hidden bg-slate-900 border-b border-white/10 animate-fade-in p-4 space-y-2">
                        <button onClick={goHome} className="block w-full text-left px-3 py-3 text-white hover:bg-white/5 rounded-lg">–ì–æ–ª–æ–≤–Ω–∞</button>
                        <button onClick={() => { changeRoute('cart'); setIsMobileMenuOpen(false); }} className="block w-full text-left px-3 py-3 text-white hover:bg-white/5 rounded-lg">–ö–æ—à–∏–∫</button>
                    </div>
                )}
            </nav>
        );

        // --- MAIN APP COMPONENT ---
        const App = () => {
            const [activeView, setActiveView] = useState('home'); 
            const [products, setProducts] = useState([]); // –ü–æ—á–∏–Ω–∞—î–º–æ –∑ –ø–æ—Ä–æ–∂–Ω—å–æ–≥–æ –º–∞—Å–∏–≤—É
            const [selectedProductId, setSelectedProductId] = useState(null);
            const [selectedInfoPage, setSelectedInfoPage] = useState(null);
            const [cart, setCart] = useState([]);
            const [isAdminMode, setIsAdminMode] = useState(false);
            const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
            const [isAgeVerified, setIsAgeVerified] = useState(false);
            const [showAdminLogin, setShowAdminLogin] = useState(false);
            const [adminPassInput, setAdminPassInput] = useState("");
            const [filterCategory, setFilterCategory] = useState(null);

            // --- INIT ---
            useEffect(() => {
                const verified = localStorage.getItem('ageVerified_v2');
                if (verified === 'true') setIsAgeVerified(true);

                // --- FIREBASE SYNC ---
                let unsubscribe = () => {};
                if (db) {
                     unsubscribe = db.collection("products").onSnapshot((snapshot) => {
                        if (snapshot.empty) {
                            // Seed database if empty
                            INITIAL_PRODUCTS_SEED.forEach((p, index) => db.collection("products").doc(String(p.id)).set({ ...p, orderIndex: index, inStock: true, isVisible: true }));
                        } else {
                            const loadedProducts = snapshot.docs.map(doc => ({id: doc.id, ...doc.data()}));
                            // Sort by orderIndex
                            loadedProducts.sort((a, b) => (a.orderIndex || 0) - (b.orderIndex || 0));
                            setProducts(loadedProducts);
                        }
                    });
                } else {
                    // Fallback if firebase failed
                    const saved = localStorage.getItem('products');
                    if (saved) setProducts(JSON.parse(saved));
                    else setProducts(INITIAL_PRODUCTS_SEED.map((p, i) => ({ ...p, orderIndex: i, inStock: true, isVisible: true })));
                }

                window.history.replaceState({ view: 'home' }, '');
                const handlePopState = (event) => {
                    const state = event.state;
                    if (state) {
                        const { view, productId, category, infoPage } = state;
                        setActiveView(view);
                        if (productId) setSelectedProductId(productId);
                        if (category !== undefined) setFilterCategory(category);
                        if (infoPage) setSelectedInfoPage(infoPage);
                        setIsMobileMenuOpen(false);
                        setShowAdminLogin(false);
                    } else {
                        setActiveView('home');
                        setFilterCategory(null);
                        setSelectedProductId(null);
                        setSelectedInfoPage(null);
                    }
                };
                window.addEventListener('popstate', handlePopState);
                
                return () => {
                    unsubscribe();
                    window.removeEventListener('popstate', handlePopState);
                };
            }, []);

            // Backup save to local storage
            useEffect(() => {
                if (products.length > 0) {
                    localStorage.setItem('products', JSON.stringify(products));
                }
            }, [products]);

            const changeRoute = (view, params = {}) => {
                const newState = { view, ...params };
                window.history.pushState(newState, '');
                setActiveView(view);
                if (params.productId) setSelectedProductId(params.productId);
                if (params.category !== undefined) setFilterCategory(params.category);
                if (params.infoPage) setSelectedInfoPage(params.infoPage);
                setIsMobileMenuOpen(false);
                window.scrollTo(0, 0);
            };

            const goBack = () => window.history.back();
            const navigateToProduct = (id) => changeRoute('product', { productId: id });
            const navigateToInfo = (page) => changeRoute('info', { infoPage: page });
            const goHome = () => changeRoute('home', { category: null, productId: null, infoPage: null });
            const goToCategory = (cat) => { changeRoute('home', { category: cat }); setTimeout(() => document.getElementById('products-grid')?.scrollIntoView({behavior:'smooth'}), 100); };
            const confirmAge = () => { localStorage.setItem('ageVerified_v2', 'true'); setIsAgeVerified(true); };
            const addToCart = (product) => {
                const existing = cart.find(item => item.id === product.id);
                if (existing) { setCart(cart.map(item => item.id === product.id ? {...item, qty: item.qty + 1} : item)); } 
                else { setCart([...cart, {...product, qty: 1}]); }
            };
            const updateQty = (id, delta) => setCart(cart.map(item => item.id === id ? { ...item, qty: Math.max(1, item.qty + delta) } : item));
            const removeFromCart = (id) => setCart(cart.filter(item => item.id !== id));
            const clearCart = () => setCart([]);
            const cartTotal = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
            const displayedProducts = filterCategory ? products.filter(p => p.category === filterCategory && p.isVisible !== false) : products.filter(p => p.isVisible !== false);

            if (!isAgeVerified) return (
                <div className="fixed inset-0 z-[100] bg-slate-900 flex items-center justify-center p-4">
                    <div className="bg-slate-800 p-8 rounded-3xl max-w-md w-full text-center border border-purple-500/30 shadow-2xl">
                        <div className="mb-6 inline-block p-4 bg-purple-600/20 rounded-full text-purple-400"><Icons.ShieldCheck size={48} /></div>
                        <h2 className="text-2xl font-bold text-white mb-4">–í–∞–º –≤–∏–ø–æ–≤–Ω–∏–ª–æ—Å—è 18 —Ä–æ–∫—ñ–≤?</h2>
                        <div className="flex gap-4"><button onClick={() => window.location.href = 'https://google.com'} className="flex-1 py-3 px-4 rounded-xl border border-gray-600 text-gray-300">–ù—ñ</button><button onClick={confirmAge} className="flex-1 py-3 px-4 rounded-xl bg-purple-600 text-white font-bold">–¢–∞–∫, –º–µ–Ω—ñ 18+</button></div>
                    </div>
                </div>
            );

            return (
                <div className="min-h-screen bg-slate-900 text-gray-100 font-sans selection:bg-violet-600 selection:text-white">
                    {showAdminLogin && (
                        <div className="fixed inset-0 z-[60] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4" onClick={() => setShowAdminLogin(false)}>
                            <div className="bg-slate-800 p-8 rounded-2xl max-w-sm w-full border border-white/10" onClick={e => e.stopPropagation()}>
                                <h3 className="text-xl font-bold text-white mb-6 text-center">–í—Ö—ñ–¥ –≤ –∞–¥–º—ñ–Ω–∫—É</h3>
                                <input type="password" autoFocus className="w-full bg-slate-900 border border-white/20 rounded-xl px-4 py-3 text-white mb-6 outline-none" placeholder="–ü–∞—Ä–æ–ª—å" value={adminPassInput} onChange={e => setAdminPassInput(e.target.value)}/>
                                <button onClick={(e) => { e.preventDefault(); if (adminPassInput === "lux1412") { setIsAdminMode(true); setShowAdminLogin(false); setAdminPassInput(""); } else alert("–ù–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å!"); }} className="w-full bg-purple-600 text-white font-bold py-3 rounded-xl">–£–≤—ñ–π—Ç–∏</button>
                            </div>
                        </div>
                    )}
                    
                    <Header goHome={goHome} changeRoute={changeRoute} cart={cart} isMobileMenuOpen={isMobileMenuOpen} setIsMobileMenuOpen={setIsMobileMenuOpen} isAdminMode={isAdminMode} setIsAdminMode={setIsAdminMode} />
                    
                    <main>
                        {isAdminMode ? <AdminPanel products={products} setProducts={setProducts} setEditId={setSelectedProductId} /> : 
                         activeView === 'product' ? <ProductPage product={products.find(p => p.id === selectedProductId)} goBack={goBack} addToCart={addToCart} goHome={goHome} /> : 
                         activeView === 'cart' ? <CartView cart={cart} updateQty={updateQty} removeFromCart={removeFromCart} goHome={goHome} cartTotal={cartTotal} changeRoute={changeRoute} /> : 
                         activeView === 'checkout' ? <CheckoutView cart={cart} cartTotal={cartTotal} goBack={goBack} clearCart={clearCart} changeRoute={changeRoute} /> :
                         activeView === 'info' ? <InfoPage page={selectedInfoPage} goBack={goBack} /> :
                         (
                            <>
                                <div className="relative overflow-hidden bg-slate-900 py-16 sm:py-24 text-center">
                                    <h1 className="text-4xl md:text-6xl font-extrabold text-white mb-8">–í—ñ–¥–∫—Ä–∏–π —Å–≤–æ—ó <br/><span className="text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-500">—Ç–∞—î–º–Ω—ñ –±–∞–∂–∞–Ω–Ω—è</span></h1>
                                    <button onClick={() => document.getElementById('products-grid').scrollIntoView({behavior: 'smooth'})} className="px-8 py-4 bg-violet-600 hover:bg-violet-700 text-white rounded-xl font-bold transition-all shadow-lg flex items-center justify-center gap-2 mx-auto"><Icons.ShoppingBag size={20} /> –ü–µ—Ä–µ–π—Ç–∏ –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É</button>
                                </div>
                                <div id="categories" className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                                    <h2 className="text-2xl font-bold text-white mb-6">–ü–æ–ø—É–ª—è—Ä–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó</h2>
                                    <div className="grid grid-cols-2 md:grid-cols-5 gap-4">
                                        {CATEGORIES.map(cat => <button key={cat.name} onClick={() => goToCategory(cat.name)} className={`p-4 rounded-2xl border border-white/10 bg-slate-800 hover:bg-slate-700 transition flex flex-col items-center gap-2 ${filterCategory === cat.name ? 'ring-2 ring-violet-500 bg-slate-700' : ''}`}><span className="text-3xl">{cat.icon}</span><span className="text-sm font-bold">{cat.name}</span></button>)}
                                    </div>
                                </div>
                                <div id="products-grid" className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-20">
                                    <div className="flex items-end justify-between mb-8"><h2 className="text-3xl font-bold text-white">{filterCategory ? `–ö–∞—Ç–µ–≥–æ—Ä—ñ—è: ${filterCategory}` : '–í—Å—ñ —Ç–æ–≤–∞—Ä–∏'}</h2>{filterCategory && <button onClick={() => setFilterCategory(null)} className="text-violet-400 hover:text-white text-sm">–ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ</button>}</div>
                                    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                                        {displayedProducts.map(product => <ProductCard key={product.id} product={product} navigateToProduct={navigateToProduct} addToCart={addToCart} />)}
                                    </div>
                                </div>
                            </>
                         )
                        }
                    </main>
                    <footer className="bg-slate-950 border-t border-white/10 pt-16 pb-8">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-12 mb-12">
                                <div>
                                    <div className="flex items-center gap-3 mb-4">
                                        <BrandLogo />
                                        <div className="flex flex-col">
                                            <span className="text-lg font-black text-white tracking-wide leading-none">NIGHT</span>
                                            <span className="text-xs font-bold text-violet-400 tracking-[0.2em] leading-none">SECRET</span>
                                        </div>
                                    </div>
                                    <p className="text-gray-500 text-sm leading-relaxed">
                                        –õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ Night Secret ‚Äî –º—ñ—Å—Ü—è, –¥–µ –≤–∞—à—ñ –Ω–∞–π—Å–º—ñ–ª–∏–≤—ñ—à—ñ —Ñ–∞–Ω—Ç–∞–∑—ñ—ó —Å—Ç–∞—é—Ç—å —Ä–µ–∞–ª—å–Ω—ñ—Å—Ç—é. –ú–∏ –¥–±–∞—î–º–æ –ø—Ä–æ –≤–∞—à—É –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ—Å—Ç—å —Ç–∞ –∫–æ–º—Ñ–æ—Ä—Ç, –ø—Ä–æ–ø–æ–Ω—É—é—á–∏ –ª–∏—à–µ –Ω–∞–π–∫—Ä–∞—â—ñ —Ç–æ–≤–∞—Ä–∏ –¥–ª—è –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è.
                                    </p>
                                </div>
                                <div>
                                    <h4 className="text-white font-bold mb-6 text-lg">–ö–æ–Ω—Ç–∞–∫—Ç–∏</h4>
                                    <ul className="space-y-4 text-gray-400 text-sm">
                                        <li className="flex items-center gap-3"><span className="bg-white/5 p-2 rounded-lg"><Icons.Phone size={16} /></span><span>+380 93 123 45 67</span></li>
                                        <li className="flex items-center gap-3"><span className="bg-white/5 p-2 rounded-lg text-blue-400"><Icons.Send size={16} /></span><a href="#" className="hover:text-white transition">@night_secret_manager</a></li>
                                        <li className="flex items-center gap-3"><span className="bg-white/5 p-2 rounded-lg text-pink-500"><Icons.Instagram size={16} /></span><a href="#" className="hover:text-white transition">@night_secret_shop</a></li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 className="text-white font-bold mb-6 text-lg">–ö–ª—ñ—î–Ω—Ç–∞–º</h4>
                                    <ul className="space-y-3 text-gray-400 text-sm">
                                        <li><button onClick={() => navigateToInfo('about')} className="hover:text-violet-400 transition text-left">–ü—Ä–æ –Ω–∞—Å</button></li>
                                        <li><button onClick={() => navigateToInfo('delivery')} className="hover:text-violet-400 transition text-left">–û–ø–ª–∞—Ç–∞ —Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∞</button></li>
                                        <li><button onClick={() => navigateToInfo('returns')} className="hover:text-violet-400 transition text-left">–ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ç–∞ –æ–±–º—ñ–Ω</button></li>
                                        <li><button onClick={() => navigateToInfo('privacy')} className="hover:text-violet-400 transition text-left">–ü–æ–ª—ñ—Ç–∏–∫–∞ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ</button></li>
                                        <li><button onClick={() => navigateToInfo('offer')} className="hover:text-violet-400 transition text-left">–î–æ–≥–æ–≤—ñ—Ä –æ—Ñ–µ—Ä—Ç–∏</button></li>
                                    </ul>
                                </div>
                            </div>
                            <div className="border-t border-white/5 pt-8 text-center text-xs text-gray-600 flex flex-col md:flex-row justify-between items-center gap-4">
                                <span>¬© 2024 Night Secret. –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω–æ.</span>
                                <div className="flex items-center gap-2">
                                    <span>18+ –¢—ñ–ª—å–∫–∏ –¥–ª—è –¥–æ—Ä–æ—Å–ª–∏—Ö</span>
                                    <button onClick={() => setShowAdminLogin(true)} className="opacity-20 hover:opacity-100 transition p-2"><Icons.Lock size={12} /></button>
                                </div>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
